<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Minecraft Server Info</title>
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
</head>
<style>
  @import url('https://fonts.googleapis.com/css2?family=Dosis:wght@200..800&display=swap');
  html {
    margin: 0;
    padding: 0;
  }

  body {
    background: black;
    color: white;
    text-align: center;
    font-family: "Dosis", sans-serif;
  }

  ul,
  li {
    all: unset;
  }
</style>

<body>
  <div id="server-info">
    <div>212.130.81.88:25565</div>
    <br>
    <div id="rest"></div>
    <br>
    <div id="rest1"></div>
    <ul id="player-list"></ul>
  </div>

  <script>
    function fetchServerInfo() {
      var url = "https://api.minetools.eu/ping/212.130.81.88:25565/25565";
      $.getJSON(url, function (r) {
        if (r.error) {
          $('#rest').html('Server Offline');
          return false;
        }

        var playerList = '';
        if (r.players.sample) {
          playerList = '<ul>';
          r.players.sample.forEach(function (player) {
            playerList += '<li>' + player.name + '</li><br>';
          });
          playerList += '</ul>';
        }

        $('#rest').html(r.description.replace(/ยง(.+?)/gi, '') + '<br>Players Online: ' + r.players.online);
        $('#rest1').html('<br>Players:');
        $('#player-list').html(playerList);
      });
    }

    // Fetch server info immediately when the page loads
    fetchServerInfo();

    // Set an interval to fetch server info every 30 seconds (30000 milliseconds)
    setInterval(fetchServerInfo, 1000);
  </script>
</body>

</html>